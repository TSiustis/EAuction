!function(){function E(e){return CKEDITOR.env.ie?e.$.clientWidth:parseInt(e.getComputedStyle("width"),10)}function O(e,t){var o=e.getComputedStyle("border-"+t+"-width"),n={thin:"0px",medium:"1px",thick:"2px"};return o.indexOf("px")<0&&(o=o in n&&"none"!=e.getComputedStyle("border-style")?n[o]:0),parseFloat(o)}function w(e){(e.data||e).preventDefault()}function s(m){function t(){g=0,x.setOpacity(0),v&&function(){for(var l=f.rtl,r=l?b.length:y.length,s=0,e=0;e<r;e++){var t=y[e],o=b[e],u=f.table;CKEDITOR.tools.setTimeout(function(e,t,o,n,a,i){e&&e.setStyle("width",d(Math.max(t+i,1))),o&&o.setStyle("width",d(Math.max(n-i,1))),a&&u.setStyle("width",d(a+i*(l?-1:1))),++s==r&&m.fire("saveSnapshot")},0,this,[t,t&&E(t),o,o&&E(o),(!t||!o)&&E(u)+O(u,"left")+O(u,"right"),v])}}();var e=f.table;setTimeout(function(){e.removeCustomData("_cke_table_pillars")},0),T.removeListener("dragstart",w)}function a(e){w(e),m.fire("saveSnapshot"),e=f.index;for(var t=CKEDITOR.tools.buildTableMap(f.table),o=[],n=[],a=Number.MAX_VALUE,i=a,l=f.rtl,r=0,s=t.length;r<s;r++){var u=(d=t[r])[e+(l?1:0)],d=d[e+(l?0:1)],u=u&&new CKEDITOR.dom.element(u),d=d&&new CKEDITOR.dom.element(d);u&&d&&u.equals(d)||(u&&(a=Math.min(a,E(u))),d&&(i=Math.min(i,E(d))),o.push(u),n.push(d))}y=o,b=n,D=f.x-a,C=f.x+i,x.setOpacity(.5),p=parseInt(x.getStyle("left"),10),v=0,g=1,x.on("mousemove",c),T.on("dragstart",w),T.on("mouseup",h,this)}function h(e){e.removeListener(),t()}function c(e){o(e.data.getPageOffset().x)}var f,g,p,v,o,y,b,D,C,T=m.document,x=CKEDITOR.dom.element.createFromHtml('<div data-cke-temp=1 contenteditable=false unselectable=on style="position:absolute;cursor:col-resize;filter:alpha(opacity=0);opacity:0;padding:0;background-color:#004;background-image:none;border:0px none;z-index:10000"></div>',T);m.on("destroy",function(){x.remove()}),i||T.getDocumentElement().append(x),this.attachTo=function(e){var t,o,n;g||(i&&(T.getBody().append(x),v=0),t=(f=e).alignedPillars[0],o=f.alignedPillars[f.alignedPillars.length-1],n=t.y,t=o.height+o.y-t.y,x.setStyles({width:d(e.width),height:d(t),left:d(e.x),top:d(n)}),i&&x.setOpacity(.25),x.on("mousedown",a,this),T.getBody().setStyle("cursor","col-resize"),x.show())},o=this.move=function(e,t){if(!f)return 0;if(!(g||e>=f.x&&e<=f.x+f.width&&t>=f.y&&t<=f.y+f.height))return f=null,g=v=0,T.removeListener("mouseup",h),x.removeListener("mousedown",a),x.removeListener("mousemove",c),T.getBody().setStyle("cursor","auto"),i?x.remove():x.hide(),0;var o=e-Math.round(x.$.offsetWidth/2);if(g){if(o==D||o==C)return 1;o=Math.max(o,D),o=Math.min(o,C),v=o-p}return x.setStyle("left",d(o)),1}}function u(e){var t=e.data.getTarget();if("mouseout"==e.name){if(!t.is("table"))return;for(var o=new CKEDITOR.dom.element(e.data.$.relatedTarget||e.data.$.toElement);o&&o.$&&!o.equals(t)&&!o.is("body");)o=o.getParent();if(!o||o.equals(t))return}t.getAscendant("table",1).removeCustomData("_cke_table_pillars"),e.removeListener()}var d=CKEDITOR.tools.cssLength,i=CKEDITOR.env.ie&&(CKEDITOR.env.ie7Compat||CKEDITOR.env.quirks);CKEDITOR.plugins.add("tableresize",{requires:"tabletools",init:function(r){r.on("contentDom",function(){var l,e=r.editable();e.attachListener(e.isInline()?e:r.document,"mousemove",function(e){var f,g,p,v;if((n=(e=e.data).getTarget()).type==CKEDITOR.NODE_ELEMENT){var t=e.getPageOffset().x,o=e.getPageOffset().y;if(l&&l.move(t,o))w(e);else if((n.is("table")||n.getAscendant({thead:1,tbody:1,tfoot:1},1))&&(e=n.getAscendant("table",1),r.editable().contains(e))){(n=e.getCustomData("_cke_table_pillars"))||(e.setCustomData("_cke_table_pillars",(g=[],p={},v="rtl"==(f=e).getComputedStyle("direction"),CKEDITOR.tools.array.forEach(f.$.rows,function(e,t){var o=-1,n=0,a=null;a=e?{height:(n=new CKEDITOR.dom.element(e)).$.offsetHeight,position:n.getDocumentPosition()}:void 0;for(var i=CKEDITOR.env.ie&&!CKEDITOR.env.edge,l="collapse"===f.getComputedStyle("border-collapse"),n=a.height,a=a.position,r=0,s=e.cells.length;r<s;r++){var u,d,m=new CKEDITOR.dom.element(e.cells[r]),h=e.cells[r+1]&&new CKEDITOR.dom.element(e.cells[r+1]),o=o+(m.$.colSpan||1),c=m.getDocumentPosition().x;v?d=c+O(m,"left"):u=c+m.$.offsetWidth-O(m,"right"),h?(c=h.getDocumentPosition().x,v?u=c+h.$.offsetWidth-O(h,"right"):d=c+O(h,"left")):(c=f.getDocumentPosition().x,v?u=c:d=c+f.$.offsetWidth),m=Math.max(d-u,3),i&&l&&(u-=m,m=Math.max(d-u,3)),m={table:f,index:o,x:u,y:a.y,width:m,height:n,rtl:v},p[o]=p[o]||[],p[o].push(m),m.alignedPillars=p[o],g.push(m)}}),n=g)),e.on("mouseout",u),e.on("mousedown",u));e:{e=n;for(var n=0,a=e.length;n<a;n++){var i=e[n];if(t>=i.x&&t<=i.x+i.width&&o>=i.y&&o<=i.y+i.height){t=i;break e}}t=null}t&&(l||(l=new s(r)),l.attachTo(t))}}})})}})}();