CKEDITOR.plugins.colordialog={requires:"dialog",lang:"af,ar,az,bg,bn,bs,ca,cs,cy,da,de,de-ch,el,en,en-au,en-ca,en-gb,eo,es,es-mx,et,eu,fa,fi,fo,fr,fr-ca,gl,gu,he,hi,hr,hu,id,is,it,ja,ka,km,ko,ku,lt,lv,mk,mn,ms,nb,nl,no,oc,pl,pt,pt-br,ro,ru,si,sk,sl,sq,sr,sr-latn,sv,th,tr,tt,ug,uk,vi,zh,zh-cn",init:function(o){var n=new CKEDITOR.dialogCommand("colordialog");n.editorFocus=!1,o.addCommand("colordialog",n),CKEDITOR.dialog.add("colordialog",this.path+"dialogs/colordialog.js"),o.getColorFromDialog=function(n,i,a){function l(o){r(this),o="ok"==o.name?this.getValueOf("picker","selectedColor"):null,/^[0-9a-f]{3}([0-9a-f]{3})?$/i.test(o)&&(o="#"+o),n.call(i,o)}function e(o){a&&(o.data=a)}function t(o){o.on("ok",l),o.on("cancel",l),o.on("show",e,null,null,5)}var r=function(o){o.removeListener("ok",l),o.removeListener("cancel",l),o.removeListener("show",e)};o.execCommand("colordialog"),o._.storedDialogs&&o._.storedDialogs.colordialog?t(o._.storedDialogs.colordialog):CKEDITOR.on("dialogDefinition",function(o){var n;"colordialog"==o.data.name&&(n=o.data.definition,o.removeListener(),n.onLoad=CKEDITOR.tools.override(n.onLoad,function(o){return function(){t(this),"function"==typeof(n.onLoad=o)&&o.call(this)}}))})}}},CKEDITOR.plugins.add("colordialog",CKEDITOR.plugins.colordialog);