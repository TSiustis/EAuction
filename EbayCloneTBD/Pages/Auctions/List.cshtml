@page
@model Auctions.ListModel

@{
    ViewData["Title"] = "List";
}

<h1>List</h1>
@if (User.Identity.IsAuthenticated)
{
    <p>
        <a asp-page="Create">Create New</a>
    </p>
}
<form asp-page="/List/Search" method="get" hidden>
    <input type="search"
           placeholder="Search" aria-label="Search" class="src-box-input" name="SearchString" value="@Model.CurrentFilter" />
    <button type="submit" class="src-link-button"><i class="fas fa-search"></i></button>
</form>
<div class="main border">
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <ul class="navbar-nav ">
            <li class="nav-item active">
                <a class="nav-link" asp-action="Index">All Auctions</a>
            </li>
        </ul>
        <ul class="navbar-nav ml-auto">
            <li class="nav-item dropdown">
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    Best Match
                </a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                    <a class="dropdown-item" asp-page="./List" asp-route-sortOrder="@Model.NameSort">
                        Lowest Prices
                    </a>
                    <a class="dropdown-item" href="#">Highest Price</a>
                    <a class="dropdown-item" asp-page="./List" asp-route-sortOrder="@Model.DateSort">
                        Newest</a>
                </div>
            </li>

        </ul>
    </nav>
    @foreach (var item in Model.Auctions)
    {
        <div class="col border">
            <div class="row ">
                <div class="thumbnail col-xs-3 col-md-3 col-lg-3">
                </div>
                @* <img src="@item.ImageThumbnailUrl" alt="">*@
                <div class="caption col-xs-8 col-md-8 col-lg-8">
                    <h3 class="pull-right">@item.Price.ToString("c")</h3>
                    <h3>
                        <a asp-page="./Details" asp-route-id="@item.Id">@item.Name</a>
                    </h3>
                    <p>@item.Details</p>
                </div>


            </div>
            <div class="addToCart row">
                <p class="button">
                    <a class="btn btn-primary">Add to cart</a>
                </p>
            </div>
        </div>

    }
</div>
